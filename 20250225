GRANULARITY 16 변경
ALTER TABLE TEST ADD INDEX idx_dt (OCCR_DT) TYPE set(1000) GRANULARITY 16;
ALTER TABLE TEST ADD INDEX idx_title (STRTITLE) TYPE set(1000) GRANULARITY 16;
ALTER TABLE TEST ADD INDEX idx_sip (SIP) TYPE set(1000) GRANULARITY 16;
ALTER TABLE TEST ADD INDEX idx_dip (DIP) TYPE set(1000) GRANULARITY 16;

ClickHouse는 백그라운드에서 데이터 정렬 및 압축을 수행하지만, 수동으로 최적화 가능
OPTIMIZE TABLE TEST FINAL;

Projections????
ALTER TABLE TEST ADD PROJECTION proj_default
(
    SELECT *, 
           -toInt64(TMSTART) AS rev_TMSTART,  
           -toInt64(OCCR_DT) AS rev_OCCR_DT  
    ORDER BY (rev_TMSTART, rev_OCCR_DT, PKT_SEQ)
);

Projection 강제 사용

일부 경우 ClickHouse가 Projection을 자동 선택하지 않을 수 있으므로,
Projection을 강제 적용하여 실행할 수도 있음
SET allow_experimental_projection_optimization = 1;

ALTER TABLE TEST MODIFY SETTING index_granularity = 128;
